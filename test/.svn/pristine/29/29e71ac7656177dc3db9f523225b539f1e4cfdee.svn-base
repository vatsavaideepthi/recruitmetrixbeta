@model UI.Models.TransactionCollection
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Payments</title>
    <script src="/Scripts/jquery-2.0.2.min.js"></script>
    <script src="/Scripts/jquery-ui-1.10.2.min.js"></script>
    <script src="/Scripts/bootstrap.min.js"></script>
    <link href="/Content/themes/base/jquery-ui.css" rel="stylesheet" />
    <link href="/css/tracker/tracker.css" rel="stylesheet" />
    <link href="/css/bootstrap.min.css" rel="stylesheet" media="screen" />
    <link href="/css/bootstrap-responsive.min.css" rel="stylesheet" media="screen" />
    <link href="/css/webfonts.css" rel="stylesheet" />
</head>
<body>
    <div>
        <div class="navbar">
            <div class="navbar-inner">
                <a href="#" class="brand">@Session["title"].ToString()</a>
                <ul class="nav pull-right">
                    <li>
                        <div style="margin: 10px 0px;">
                            <div class="btn-group ">
                                <button class="btn btn-small"><i class="icon-group icon-black"></i>@Session["title"].ToString()</button>
                                <button class="btn btn-small dropdown-toggle" data-toggle="dropdown">
                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a tabindex="-1" href="/settings"><i class="icon-cog icon-black"></i>Settings</a></li>
                                    <li><a tabindex="-1" href="/logout"><i class="icon-off icon-black"></i>Logout</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>


    </div>
    <div>
        <div class="container-fluid">
            <div class="alert alert-success">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                <p>Some exiting text</p>
            </div>
            <div class="">
                <div class="">
                    <ul class="nav nav-pills">
                        <li class="active">
                            <a href="/expenses">Expenses</a>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle"
                                data-toggle="dropdown"
                                href="/invoice">Invoices
                        <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="/invoice/inbound">Inbound Invoice</a>
                                </li>
                                <li>
                                    <a href="/invoice/outbound">Outbounde Invoice</a>
                                </li>
                                <li>
                                    <a href="/invoice/generateinvoice">Create Invoice</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="ptcontent">
                <div class="ptcontentholder" style="margin: 0px auto;">
                    <div class="ptpaymentdata">
                        <div class="navbar navbar-inverse">
                            <div class="navbar-inner">
                                <div>
                                    <ul class="nav">
                                        <li style="color: white;">
                                            <h4>Payments</h4>
                                        </li>
                                    </ul>
                                </div>
                                <div class="pull-right">
                                    <ul class="nav">
                                        <li class="active">
                                            <a href="#addmtxn" data-toggle="modal"><i class="icon icon-plus icon-white"></i>Add Transactions</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="paymentblock">

                            <div class="paymentbody">
                                <div class="header">
                                    <table class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Description</th>
                                                <th>Due On</th>
                                                <th>BudgetAmount</th>
                                                <th>Amount</th>
                                                <th>status</th>
                                                <th>options</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (Model != null && Model.groupcollection.Count > 0)
                                            {
                                                foreach (UI.Models.Transactiongroupcollection groupitem in Model.groupcollection)
                                                {
                                                <tr class="recordheader" style="width: 100%;" data-catid="@groupitem.categoryid" data-catname="@groupitem.categoryname">
                                                    <td colspan="5" style="width: 100%; background-color: #ffffff !important;">
                                                        <div class="paymentheader">
                                                            <div>@groupitem.categoryname</div>
                                                        </div>
                                                    </td>
                                                    <td class="expand-table" style="background-color: #ffffff !important;">
                                                        <div style="float: right;">
                                                            <span>+</span>
                                                        </div>
                                                    </td>
                                                </tr>
                                                    foreach (UI.Models.TransactionItem txnitem in groupitem.groupitems)
                                                    {
                                                <tr data-accid="@txnitem.accountId" data-catid="@txnitem.categoryid" data-subcatid="@txnitem.subcatid">
                                                    <td>
                                                        <div class="record-description">
                                                            <div class="main" data-accid="@txnitem.accountId">@txnitem.accountName</div>
                                                            <div class="subtitle" data-proid="@txnitem.providerid">@txnitem.providername</div>
                                                        </div>

                                                    </td>
                                                    <td class="paydue" data-month="@txnitem.duemonth" data-date="@txnitem.duedate">@Html.Raw(txnitem.duemonth) / @Html.Raw(txnitem.duedate)</td>
                                                    <td class="budget" data-budgetamount="@txnitem.budgetamount">@txnitem.budgetamount.ToString("C2")</td>
                                                    <td>
                                                        <input type="text" class="dueamount" placeholder="Enter Amount" /></td>
                                                    <td>
                                                        <div>

                                                            <div class="btn-group">
                                                                <button class="btn btn-primary">Paid Via</button>
                                                                <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>
                                                                <ul class="dropdown-menu">
                                                                    <li><a href="#">Action</a></li>
                                                                    <li><a href="#">Another action</a></li>
                                                                    <li><a href="#">Something else here</a></li>
                                                                    <li class="divider"></li>
                                                                    <li><a href="#">Separated link</a></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <button class="btn btn-mini btn-block updatetransaction">Update</button>
                                                    </td>
                                                </tr>
                                                    }
                                                }


                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="6">
                                                        <section>
                                                            <div class="page-header">
                                                                <h3>No Payments Now...</h3>
                                                            </div>
                                                        </section>
                                                    </td>
                                                </tr>
                                            }

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="paymentfooter"></div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
    <div id="addmtxn" class="modal hide fade holder widemodal">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>Add Transactions</h3>
        </div>
        <div class="modal-body">
            <table class="table table-striped table-bordered">
                <tbody>
                    @for (int i = 1; i < 10; i++)
                    {
                        <tr id="transactionclone" data-accid="" data-catid="" data-subcatid="">
                            <td>
                                <div class="record-description">
                                    <input type="text" placeholder="Enter Category Name" />
                                    <input type="text" placeholder="Enter Service Provider" />
                                </div>
                            </td>
                            <td class="paydue" data-month="6" data-date="26">
                                <input type="text" placeholder="mm" class="input-mini" /></td>
                            <td class="budget" data-budgetamount="12000">
                                <input type="text" placeholder="Enter Budget Amount" class="input-small" /></td>
                            <td>
                                <input type="text" class="dueamount" placeholder="Enter Amount"></td>
                            <td>
                                <button class="btn btn-mini btn-block updatetransaction">Add</button>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div class="modal-footer">
            <a href="#" class="btn">Close</a>
            <a href="#" class="btn btn-primary">Save changes</a>
        </div>
    </div>
    <script type="text/javascript">

        $(document).ready(function () {
            $('.dropdown-toggle').dropdown();
            $('#accountupdatemodal').modal('show');
        });
    </script>
</body>
</html>
